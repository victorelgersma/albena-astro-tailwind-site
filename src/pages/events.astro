---
import RootLayout from "@/layouts/RootLayout.astro";
import { Image } from "astro:assets";
import lionImage from "../assets/events/16-07-24.jpg";

const cards = [
  {
    title: "Проф. Албена Азманова: Разделението е между елити и население",
    description:
      "Interview by the Bulgarian National Radio on the violence involving Maccabi Tel Aviv fans and the ensuing media coverage",
    datetime: "2024-11-13",
    location: "Sofia, Bulgaria",
    organisation: "BNR (Bulgarian National Radio)",
    url: "https://bnr.bg/horizont/post/102074423/prof-albena-azmanova-razdelenieto-e-mejdu-eliti-i-naselenie",
    lang: "bg",
  },
  {
    img: lionImage,
    title: "Emancipation without Utopia? (lectio magistralis)",
    description:
      "The landscape of our political imagination is void of a grand utopia able to energise the discontent and the hopes of the multitude. Why is this the case? And what ways are still available to us for radical transformation without the help of Utopia?",
    datetime: "2024-07-16",
    location: "Rome, Italy",
    url: "https://iperfestival.it/",
  },
  {
    img: lionImage,
    title: "",
    description:
      "2nd Leuven Critical Emancipations Conference: The Production of Difference",
    datetime: "2024-07-16",
    location: "Rome, Italy",
    url: "https://iperfestival.it/",
  },
];

function formatted(foo) {
  const date = new Date(foo);

  const options = {
    weekday: "short", // "Sun"
    day: "2-digit", // "15"
    month: "short", // "June"
    year: "numeric", // "2025"
  };

  return date.toLocaleDateString("en-GB", options);
}
---

<RootLayout>
  <h1 class="text-4xl py-4">Events</h1>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    {
      cards.map((card) => (
        <div
          class="max-w-sm rounded dark:bg-gray-900 overflow-hidden shadow-lg bg-white"
          key={card.title}
        >
          <a href={card.url}>
            {card.img && (
              <Image class="w-full" src={card.img} alt="Card Image" />
            )}
            <div class="px-6 border py-4">
              <div class="font-bold text-xl mb-2 dark:text-gray-100">
                {card.title}
              </div>
              <p class="text-gray-700 dark:text-gray-200 text-base">
                {card.description}
              </p>
              <p class="py-4">
                <strong> Organized by </strong>
                {card.organisation}
              </p>
              <time datetime={card.datetime}>{formatted(card.datetime)}</time>
              <strong>Location:</strong> {card.location}
            </div>
          </a>
        </div>
      ))
    }
  </div>
</RootLayout>
